---
title: (Docker) 내가 보려고 기록하는 Spring 배포 환경 구축 - 1
date: 2025-12-24 00:00:00 +09:00
categories: [Docker, 개발환경]
tags: [Docker, 개발환경]
image: 
---

> 본 포스팅에서는 아래 내용에 대해 소개합니다.
> - 실무에서 왜 도커(Docker)를 필수적으로 사용하는지
> - 도커의 핵심 개념(이미지, 컨테이너)과 설치 방법
> - 실제 구동해보기

## 왜 도커(Docker)인가? 

개발을 하다 보면 이런저런 상황을 반드시 마주하게 된다. 그 중, 가장 난감한 상황은 **"어? 내 컴퓨터에서는 분명히 잘 돌아가는데, 서버에 올리니까 왜 안 되지?"** 자바 버전이 다르거나, DB 설정이 꼬였거나, 혹은 리눅스 서버에 필요한 라이브러리가 설치되지 않았을 때 발생하는 이 고질적인 문제는 개발자의 넋을 나가게 하기 충분하다.

> 도커는 이 문제를 **박스(Container)** 하나로 해결한다.
{: .prompt-info }

내 컴퓨터의 개발 환경을 그대로 박스에 담아서 서버로 옮긴다고 상상해 보자. 서버가 어떤 상태든 상관없이 그 박스만 실행하면 내가 만든 프로그램이 똑같이 돌아간다. 이것이 바로 도커가 실무 배포 환경의 표준이 된 이유다.

## 그래서 난 왜 도커를 적용하는가?

java SI/SM(공공기관) 취업을 하며 개발을 하던 중 팀을 옮기는 과정에서 개발 환경이 매번 달라지기도 했고, 개발 -> 배포 단계에서의 불편함이 매우 심했다. 여러 문제들이 종합적으로 얽혀있어 배포는 단순히 내 컴퓨터에서 java 파일을 컴파일해 서버에 직접 파일을 옮기곤 했었다. 이러다보니 배포 단계에서 작고 큰 실수가 있었다. 도커를 사용하면 이러한 상황 자체가 발생하지 않는다고 하여, 이왕 개인프로젝트를 만드는 김에 맨 땅에 경험해보았다.

## 도커의 핵심 개념: 붕어빵 틀과 붕어빵

도커 관련하여 블로그나 AI 등 매우 많은 정보를 찾아보았다. 그 중 가장 많은 비유로 '붕어빵 틀' 과 '붕어빵' 이다. 내가 생각해도 이 비유가 가장 적절한 것 같다. 무엇보다, 이해가 쉬웠다.

도커를 시작할 때 가장 헷갈리는 것이 **이미지(Image)**와 **컨테이너(Container)**의 차이이다.

1. **이미지 (Image): 붕어빵 틀 혹은 설계도**
<br>서비스 운영에 필요한 프로그램, 라이브러리, 소스 코드를 모두 포함한 '상태'를 스냅샷 찍어놓은 것이다. 이미지는 한 번 만들어지면 절대 변하지 않으며(Immutable), 덕분에 우리는 언제 어디서든 동일한 환경을 복제할 수 있다.

2. **컨테이너 (Container): 붕어빵 혹은 실제 건물**
<br>이미지를 실행시킨 '실체'. 각각의 컨테이너는 독립된 공간이다. 하나의 서버(또는 내 컴퓨터)에서 MySQL 컨테이너 2개를 띄워도 서로 간섭하지 않는다. 마치 내 컴퓨터 안에 작은 가상 컴퓨터가 여러 개 떠 있는 것과 비슷하다.

# 설치하기 전에 - WSL2 설치(Window)

도커를 설치하기 전, Window 라면 반드시 거쳐야 할 관문이 있다. WSL2 설치이다.

- **WSL2?** : Windows Subsystem for Linux 2의 약자로, **Windows 안에서 리눅스 커널을 직접 실행**할 수 있게 해준다.
- **왜 설치해야 하는지?** : 도커 컨테이너는 본래 **리눅스 기술(커널)** 기반으로 만들어졌다. Windows는 리눅스와 구조가 완전히 다르기 때문에 도커가 돌아갈 수 없다. 그래서 Windows 위에 가상의 리눅스 환경(WSL2)을 만들고, 도커가 그 위에서 구동될 수 있게 만드는 것이다.

> 쉽게 말해, 도커라는 '앱'을 돌리기 위해 리눅스라는 '운영체제(OS)'를 Windows 안에 작게 하나 더 설치하는 과정이다.
{: .prompt-info }

1. **WSL2 설치 - 1**
<br>먼저 Windows 기능에서 리눅스 서브시스템 기능을 켠다.
```powershell
# 1. WSL 기본 기능 활성화
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
# 2. 가상 머신 플랫폼 기능 활성화
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
```

<br>

2. **WSL2 버전 설정 및 커널 업데이트**
<br>이미 설치된 경우가 아니라면 최신 커널로 업데이트 한다.
```powershell
# 1. WSL 기본 기능 활성화
wsl --install
# 2. 기존에 WSL1이 설치되어 있었다면, 기본 버전을 2로 고정해준다.
wsl --set-default-version 2
```

<br>

3. **리눅스 배포판 설치 (Ubuntu)**
<br>PowerShell 에서 아래와 같이 입력한다.
```powershell
wsl --install -d Ubuntu
```

> 설치가 완료되면 리눅스에서 사용할 **Username**과 **Password**를 설정하는 창이 뜹니다. 이건 도커 사용과는 별개로 리눅스 시스템 자체의 계정이다.
{: .prompt-warning }
